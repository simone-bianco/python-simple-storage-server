<!-- Mobile Menu Toggle -->
<button class="mobile-menu-toggle" id="mobile-menu-toggle">â˜°</button>

<!-- Sidebar Overlay -->
<div class="sidebar-overlay" id="sidebar-overlay"></div>

<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <a href="{{ url_for('admin_dashboard') }}" class="sidebar-logo">
            <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="sidebar-logo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
            <div class="sidebar-logo-icon" style="display: none;">ğŸ“¦</div>
            <span class="sidebar-logo-text">{{ config.get('APP_NAME', 'Simple Storage') }}</span>
        </a>
    </div>
    
    <nav class="sidebar-nav">
        <div class="nav-section">
            <div class="nav-section-title">Menu</div>
            <a href="{{ url_for('admin_dashboard') }}" class="nav-link {{ 'active' if request.endpoint == 'admin_dashboard' else '' }}">
                <span class="nav-link-icon">ğŸ“</span>
                <span>Storage</span>
            </a>
            <a href="{{ url_for('admin_statistics') }}" class="nav-link {{ 'active' if request.endpoint == 'admin_statistics' else '' }}">
                <span class="nav-link-icon">ğŸ“Š</span>
                <span>Statistics</span>
            </a>
            <a href="{{ url_for('admin_cron') }}" class="nav-link {{ 'active' if request.endpoint == 'admin_cron' else '' }}">
                <span class="nav-link-icon">âš™ï¸</span>
                <span>Settings</span>
            </a>
        </div>
        
        <div class="nav-section">
            <div class="nav-section-title">System</div>
            <a href="{{ url_for('health') }}" target="_blank" class="nav-link">
                <span class="nav-link-icon">ğŸ’š</span>
                <span>Health Check</span>
            </a>
        </div>
    </nav>
    
    <div class="sidebar-footer">
        <div class="sidebar-user">
            <div class="sidebar-user-avatar">{{ current_user.username[0].upper() }}</div>
            <div class="sidebar-user-info">
                <div class="sidebar-user-name">{{ current_user.username }}</div>
                <div class="sidebar-user-role">Administrator</div>
            </div>
            <a href="{{ url_for('admin_logout') }}" class="btn btn-icon btn-secondary" title="Logout">ğŸšª</a>
        </div>
    </div>
</aside>

<script>
// Mobile menu toggle (inline for partial)
document.addEventListener('DOMContentLoaded', function() {
    const toggle = document.getElementById('mobile-menu-toggle');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebar-overlay');
    
    if (toggle && sidebar) {
        toggle.addEventListener('click', function() {
            sidebar.classList.toggle('open');
            if (overlay) overlay.classList.toggle('active');
        });
    }
    
    if (overlay) {
        overlay.addEventListener('click', function() {
            sidebar.classList.remove('open');
            this.classList.remove('active');
        });
    }
});
</script>
